" Key Mappings
"
" Hate these errors !!!

cmap Wq wq
cmap W w
cmap WQ wq

" Map function keys

noremap <F5> :call BuildProj()<CR>
noremap <F6> :VimuxRunCommand("cd /BROWSE ; cscope -d")<CR>
noremap <F7> :Cvsdiff<CR>
noremap <F8> :VimuxRunCommand("cppcheck --force --enable=information " . expand("%"))<CR>
noremap <F9> :ClangFormat<CR>
" :noremap <leader><F5> :VimuxRunCommand("clear; python ~/.dotfile/remoteCommands.py 2 " . expand("%:p"))<CR>
noremap <leader><F7> :DiffSaved<CR>
noremap <silent> <leader><F5> :diffupdate<CR>

" turn off search highlight with leader and space
nnoremap <leader><Space> :set hlsearch!<CR>
nnoremap <silent> n n:call HLNext(0.1)<cr>
nnoremap <silent> N N:call HLNext(0.1)<cr>


" Build ctags for current folder and below
nnoremap <silent> <leader>t :VimuxRunCommand("clear; ctags -R --verbose --c-kinds=+p --c++-kinds=+p --fields=+iamS --extra=+q --exclude=*.vcxproj,*/CVS/*,.#* .")<CR>

" Vertical split 
nnoremap <silent> <C-\>t :vert scs find t <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\>s :vert scs find s <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\>i :vert scs find i ^<C-R>=expand("<cfile>")<CR>$<CR>CR
nnoremap <silent> <C-\>g :vert scs find g <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\>f :vert scs find f <C-R>=expand("<cfile>")<CR><CR>CR
nnoremap <silent> <C-\>e :vert scs find e <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\>d :vert scs find d <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\>c :vert scs find c <C-R>=expand("<cword>")<CR><CR>

" Horizontal split
nnoremap <silent> <C-@>t :scs find t <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@>s :scs find s <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@>i :scs find i ^<C-R>=expand("<cfile>")<CR>$<CR>CR
nnoremap <silent> <C-@>g :scs find g <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@>f :scs find f <C-R>=expand("<cfile>")<CR><CR>CR
nnoremap <silent> <C-@>e :scs find e <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@>d :scs find d <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-@>c :scs find c <C-R>=expand("<cword>")<CR><CR>CR

" Split to a tab
nnoremap <silent> <C-@><C-@>t :tab cs find t <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@><C-@>s :tab cs find s <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@><C-@>i :tab cs find i ^<C-R>=expand("<cfile>")<CR>$<CR>
nnoremap <silent> <C-@><C-@>g :tab cs find g <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@><C-@>f :tab cs find f <C-R>=expand("<cfile>")<CR><CR>CR
nnoremap <silent> <C-@><C-@>e :tab cs find e <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-@><C-@>d :tab cs find d <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-@><C-@>c :tab cs find c <C-R>=expand("<cword>")<CR><CR>CR

" Open in same tab, different buffer
nnoremap <silent> <C-\><C-\>t :cs find t <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-\><C-\>s :cs find s <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-\><C-\>i :cs find i ^<C-R>=expand("<cfile>")<CR>$<CR>
nnoremap <silent> <C-\><C-\>g :cs find g <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-\><C-\>f :cs find f <C-R>=expand("<cfile>")<CR><CR>CR
nnoremap <silent> <C-\><C-\>e :cs find e <C-R>=expand("<cword>")<CR><CR>CR
nnoremap <silent> <C-\><C-\>d :cs find d <C-R>=expand("<cword>")<CR><CR>
nnoremap <silent> <C-\><C-\>c :cs find c <C-R>=expand("<cword>")<CR><CR>CR

" Map NERDTree key bindings
nnoremap <silent> <C-n> :NERDTreeToggle<CR>

" Move around diff
noremap <C-u> [c
noremap <C-d> ]c
noremap <C-g> :diffget<CR>
noremap <C-p> :diffput<CR>

" Quickfix browse
nnoremap <C-m> :cnext<CR>
nnoremap <C-b> :cprevious<CR>

" move vertically by visual line
nnoremap j gj
nnoremap k gk
" move to start/end of line
nnoremap S ^
nnoremap E $
" Move current line
nnoremap <silent> C zz
nnoremap <silent> T zt
nnoremap <silent> B zb
" MOve to parent block
nnoremap <silent> U [{
nnoremap <silent> D ]}
" $/^ doesn't do anything
nnoremap $ <nop>
nnoremap ^ <nop>

" Handle comments
vnoremap <leader>n :normal i//<CR>	
vnoremap <leader>m :normal xx<CR>

" Tabs are like workspaces. Different 'works' should 
" have different tabs.
" Windows are buffers in same plane.
" Buffers are like open instances of files. Same work should be
" in same tab with different buffers and windows.
" noremap leader and direction keys to different tabs"
nnoremap <silent> <Tab>  :bn<cr>
nnoremap <silent> <S-Tab> :bp<cr>

" Buffer switch
nnoremap <silent> <leader>q :tabnext<CR>
nnoremap <silent> <leader>r :tabp<CR>

" Map cvs diff command and keys
noremap <unique> <script> <plug>Cvsdiff :call <SID>Cvsdiff()<CR>


" Experimental, using easymotion
map  ? <Plug>(easymotion-sn)
map  <Leader>f <Plug>(easymotion-bd-f)
nmap <Leader>f <Plug>(easymotion-overwin-f)

nmap s <Plug>(easymotion-overwin-f2)

map <Leader>L <Plug>(easymotion-bd-jk)
nmap <Leader>L <Plug>(easymotion-overwin-line)

map  <Leader>w <Plug>(easymotion-bd-w)
nmap <Leader>w <Plug>(easymotion-overwin-w)
